import{G as j,d as fe,g as be,H as ge,r as i,s as Q,I as ve,J as ye,f as u,K as _e,c as _,o as d,h as t,M as S,w as o,j as a,F as C,A as k,x as m,m as c,N as B,t as F,O as Ve,i as Ce,B as we,P as ke,Q as xe,R as Te,S as De}from"./index-SiRIT6sV.js";function Se(w){return j({url:"/system/dict/type/list",method:"get",params:w})}function Le(w){return j({url:"/system/dict/type/"+w,method:"get"})}const Ue={class:"dialog-footer"},Ne=fe({name:"dictData"}),Be=Object.assign(Ne,{props:{dictId:{type:Number,default:0}},setup(w){const{proxy:f}=be(),W=w;ge(()=>W.dictId,(s,l)=>{s&&(M(s),h(),f.getDicts("sys_normal_disable").then(g=>{x.value=g.data}))},{immediate:!0,deep:!0});const $=i(),q=i(!1),L=i(0),z=i([]),I=i(""),U=i(""),b=i(!1),E=i([{value:"default",label:"default"},{value:"primary",label:"main"},{value:"success",label:"success"},{value:"info",label:"information"},{value:"warning",label:"Warning"},{value:"danger",label:"Dangerous"}]),G=i([{value:"text-primary",label:"main"},{value:"text-success",label:"success"},{value:"text-info",label:"information"},{value:"text-warning",label:"Warning"},{value:"text-danger",label:"Dangerous"},{value:"text-orange",label:"orange red"},{value:"text-hotpink",label:"pink"},{value:"text-green",label:"green"},{value:"text-greenyellow",label:"yellow green"},{value:"text-purple",label:"purple"}]),x=i([]),O=i([]),r=Q({pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0}),H=i(),J=Q({form:{},rules:{dictLabel:[{required:!0,message:"Data label cannot be empty",trigger:"blur"}],dictValue:[{required:!0,message:"Data key value cannot be empty",trigger:"blur"}],dictSort:[{required:!0,message:"Data order cannot be empty",trigger:"blur"}]}}),{form:n,rules:K}=ve(J);function M(s){Le(s).then(l=>{r.dictType=l.data.dictType,I.value=l.data.dictType,V()})}function h(){Se().then(s=>{O.value=s.data.result})}function V(){q.value=!0,ye(r).then(s=>{z.value=s.data.result,L.value=s.data.totalNum,q.value=!1})}function X(){b.value=!1,N()}function N(){n.value={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"0",remark:void 0},f.resetForm("formRef")}function P(){r.pageNum=1,V()}function Y(){f.resetForm("queryForm"),r.dictType=I.value,P()}function Z(){N(),b.value=!0,U.value="Add dictionary data",n.value.dictType=r.dictType}function ee(s){N();const l=s.dictCode||$.value;ke(l).then(g=>{n.value=g.data,b.value=!0,U.value="修改字典数据"})}function le(){f.$refs.formRef.validate(s=>{s&&(n.value.dictCode!=null?Te(n.value).then(l=>{f.$modal.msgSuccess("修改成功"),b.value=!1,V()}):De(n.value).then(l=>{f.$modal.msgSuccess("新增成功"),b.value=!1,V()}))})}function te(s){const l=s.dictCode||$.value;f.$confirm('是否确认删除字典编码为"'+l+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return xe(l)}).then(()=>{V(),f.$modal.msgSuccess("删除成功")})}return(s,l)=>{const g=u("el-option"),T=u("el-select"),p=u("el-form-item"),y=u("el-button"),A=u("el-form"),ae=u("el-col"),oe=u("el-row"),v=u("el-table-column"),ne=u("el-tag"),ue=u("dict-tag"),se=u("el-table"),de=u("pagination"),D=u("el-input"),re=u("el-input-number"),ie=u("el-radio"),pe=u("el-radio-group"),me=u("el-dialog"),R=_e("hasPermi");return d(),_(C,null,[t(A,{model:a(r),ref:"queryForm",inline:!0,"label-width":"68px"},{default:o(()=>[t(p,{label:"dictionary name",prop:"dictType"},{default:o(()=>[t(T,{modelValue:a(r).dictType,"onUpdate:modelValue":l[0]||(l[0]=e=>a(r).dictType=e)},{default:o(()=>[(d(!0),_(C,null,k(a(O),e=>(d(),m(g,{key:e.dictId,label:e.dictName,value:e.dictType},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"status",prop:"status"},{default:o(()=>[t(T,{modelValue:a(r).status,"onUpdate:modelValue":l[1]||(l[1]=e=>a(r).status=e),placeholder:"data status",clearable:""},{default:o(()=>[(d(!0),_(C,null,k(a(x),e=>(d(),m(g,{key:e.dictValue,label:e.dictLabel,value:e.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(p,null,{default:o(()=>[t(y,{type:"primary",icon:"search",onClick:P},{default:o(()=>l[13]||(l[13]=[c("Search")])),_:1}),t(y,{icon:"refresh",onClick:Y},{default:o(()=>l[14]||(l[14]=[c("Reset")])),_:1})]),_:1})]),_:1},8,["model"]),t(oe,{gutter:10,class:"mb8"},{default:o(()=>[t(ae,{span:1.5},{default:o(()=>[S((d(),m(y,{type:"primary",plain:"",icon:"plus",onClick:Z},{default:o(()=>l[15]||(l[15]=[c("AddNew")])),_:1})),[[R,["system:dict:add"]]])]),_:1})]),_:1}),t(se,{data:a(z)},{default:o(()=>[t(v,{type:"selection",width:"55",align:"center"}),t(v,{label:"dictionary code",align:"center",prop:"dictCode"}),t(v,{label:"dictionary label",align:"center",prop:"dictLabel"},{default:o(e=>[e.row.listClass==""||e.row.listClass=="default"?(d(),_("span",{key:0,class:B(e.row.cssClass)},F(e.row.dictLabel),3)):(d(),m(ne,{key:1,type:e.row.listClass=="primary"?"":e.row.listClass,class:B(e.row.cssClass)},{default:o(()=>[c(F(e.row.dictLabel),1)]),_:2},1032,["type","class"]))]),_:1}),t(v,{label:"dictionary key value",align:"center",prop:"dictValue",sortable:""}),t(v,{label:"dictionary sort",align:"center",prop:"dictSort",sortable:""}),t(v,{label:"status",align:"center",prop:"status"},{default:o(e=>[t(ue,{options:a(x),value:e.row.status},null,8,["options","value"])]),_:1}),t(v,{label:"remarks",align:"center",prop:"remark","show-overflow-tooltip":!0}),t(v,{label:"operation",align:"center","class-name":"small-padding fixed-width",width:"130px"},{default:o(e=>[S((d(),m(y,{text:"",size:"small",icon:"edit",onClick:ce=>ee(e.row)},{default:o(()=>l[16]||(l[16]=[c("edit")])),_:2},1032,["onClick"])),[[R,["system:dict:edit"]]]),S((d(),m(y,{text:"",size:"small",icon:"delete",onClick:ce=>te(e.row)},{default:o(()=>l[17]||(l[17]=[c("delete ")])),_:2},1032,["onClick"])),[[R,["system:dict:remove"]]])]),_:1})]),_:1},8,["data"]),S(t(de,{total:a(L),page:a(r).pageNum,"onUpdate:page":l[2]||(l[2]=e=>a(r).pageNum=e),limit:a(r).pageSize,"onUpdate:limit":l[3]||(l[3]=e=>a(r).pageSize=e),onPagination:V},null,8,["total","page","limit"]),[[Ve,a(L)>0]]),t(me,{title:a(U),modelValue:a(b),"onUpdate:modelValue":l[12]||(l[12]=e=>we(b)?b.value=e:null),draggable:"",width:"500px","append-to-body":""},{footer:o(()=>[Ce("div",Ue,[t(y,{text:"",onClick:X},{default:o(()=>l[18]||(l[18]=[c("取 消")])),_:1}),t(y,{type:"primary",onClick:le},{default:o(()=>l[19]||(l[19]=[c("确 定")])),_:1})])]),default:o(()=>[t(A,{ref_key:"formRef",ref:H,model:a(n),rules:a(K),"label-width":"80px"},{default:o(()=>[t(p,{label:"字典类型"},{default:o(()=>[t(D,{modelValue:a(n).dictType,"onUpdate:modelValue":l[4]||(l[4]=e=>a(n).dictType=e),disabled:!0},null,8,["modelValue"])]),_:1}),t(p,{label:"数据标签",prop:"dictLabel"},{default:o(()=>[t(D,{modelValue:a(n).dictLabel,"onUpdate:modelValue":l[5]||(l[5]=e=>a(n).dictLabel=e),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),t(p,{label:"数据键值",prop:"dictValue"},{default:o(()=>[t(D,{modelValue:a(n).dictValue,"onUpdate:modelValue":l[6]||(l[6]=e=>a(n).dictValue=e),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),t(p,{label:"样式属性",prop:"cssClass"},{default:o(()=>[t(T,{modelValue:a(n).cssClass,"onUpdate:modelValue":l[7]||(l[7]=e=>a(n).cssClass=e),clearable:""},{default:o(()=>[(d(!0),_(C,null,k(a(G),e=>(d(),m(g,{class:B(e.value),key:e.value,label:e.label+"("+e.value+")",value:e.value},null,8,["class","label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"显示排序",prop:"dictSort"},{default:o(()=>[t(re,{modelValue:a(n).dictSort,"onUpdate:modelValue":l[8]||(l[8]=e=>a(n).dictSort=e),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),t(p,{label:"回显样式",prop:"listClass"},{default:o(()=>[t(T,{modelValue:a(n).listClass,"onUpdate:modelValue":l[9]||(l[9]=e=>a(n).listClass=e)},{default:o(()=>[(d(!0),_(C,null,k(a(E),e=>(d(),m(g,{key:e.value,label:e.label+"("+e.value+")",value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"状态",prop:"status"},{default:o(()=>[t(pe,{modelValue:a(n).status,"onUpdate:modelValue":l[10]||(l[10]=e=>a(n).status=e)},{default:o(()=>[(d(!0),_(C,null,k(a(x),e=>(d(),m(ie,{key:e.dictValue,label:e.dictValue},{default:o(()=>[c(F(e.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"备注",prop:"remark"},{default:o(()=>[t(D,{modelValue:a(n).remark,"onUpdate:modelValue":l[11]||(l[11]=e=>a(n).remark=e),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])],64)}}});export{Be as default};
