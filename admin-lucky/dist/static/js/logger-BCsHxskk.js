import{G as M,d as S,g as U,r as n,s as q,I as B,a as C,U as J,f as r,K as P,c as R,o as k,h as e,w as a,i as u,j as s,m as _,t as m,M as j,x as A}from"./index-SiRIT6sV.js";function E(f){return M({url:"/log/list",method:"get",params:f})}const F={class:"app-container"},G={style:{"background-color":"black",color:"white",padding:"6px"}},K={m:"t-0 b-2"},T={m:"t-0 b-2"},$=S({name:"daily-meal"}),W=Object.assign($,{setup(f){const{proxy:z}=U(),g=n([]);n([]);const c=n(!0),V=n(0);n(""),n(!1),n(1),n(10),n([]),n([]),n([]);const h=n();h.value=[{status_value:!1,status_name:"Disabled"},{status_value:!0,status_name:"Active"}];function x(p,t=150){const l=String(p);return l.length<=t?l:l.slice(0,t)+"..."}const D=q({queryParams:{page:1,limit:100,query:void 0,type:"",fdate:new Date().toJSON().slice(0,10),tdate:new Date().toJSON().slice(0,10)},form:{}}),{queryParams:d,form:H}=B(D);C();const b=(p=0)=>{c.value=!0,E(d.value).then(t=>{c.value=!1,g.value=t.data,V.value=t.meta.total})};return J(()=>{b()}),(p,t)=>{const l=r("el-col"),y=r("el-input"),v=r("el-date-picker"),I=r("el-button"),w=r("el-row"),i=r("el-table-column"),Y=r("el-table"),N=r("el-tab-pane"),O=r("el-tabs"),L=P("loading");return k(),R("div",F,[e(w,{gutter:24},{default:a(()=>[e(l,{span:4,xs:24},{default:a(()=>t[4]||(t[4]=[u("div",{class:"head-container"},null,-1)])),_:1}),e(l,{lg:24,xm:24},{default:a(()=>[e(w,{gutter:10,class:"mb8"},{default:a(()=>[e(l,{span:1.5},{default:a(()=>[e(y,{modelValue:s(d).query,"onUpdate:modelValue":t[0]||(t[0]=o=>s(d).query=o),style:{"max-width":"150px"},placeholder:"Username"},{prepend:a(()=>t[5]||(t[5]=[_("Filter")])),_:1},8,["modelValue"])]),_:1}),e(l,{span:1.5},{default:a(()=>[e(y,{modelValue:s(d).limit,"onUpdate:modelValue":t[1]||(t[1]=o=>s(d).limit=o),style:{"max-width":"150px"},placeholder:"Please input"},{prepend:a(()=>t[6]||(t[6]=[_("Row")])),_:1},8,["modelValue"])]),_:1}),e(l,{span:1.5},{default:a(()=>[e(v,{modelValue:s(d).fdate,"onUpdate:modelValue":t[2]||(t[2]=o=>s(d).fdate=o),format:"YYYY/MM/DD",type:"date",placeholder:"From date"},null,8,["modelValue"])]),_:1}),e(l,{span:1.5},{default:a(()=>[e(v,{modelValue:s(d).tdate,"onUpdate:modelValue":t[3]||(t[3]=o=>s(d).tdate=o),type:"date",format:"YYYY/MM/DD",placeholder:"End data"},null,8,["modelValue"])]),_:1}),e(l,{span:1.5},{default:a(()=>[e(I,{type:"primary",icon:"search",onClick:b},{default:a(()=>[_(m(p.$t("btn.search")),1)]),_:1})]),_:1}),e(l,{span:1.5,align:"right"})]),_:1}),e(O,{type:"border-card",class:"demo-tabs",style:{"min-height":"75vh","margin-top":"10px"}},{default:a(()=>[e(N,{label:"Logger"},{default:a(()=>[j((k(),A(Y,{data:s(g)},{default:a(()=>[e(i,{type:"expand",style:{"background-color":"black"}},{default:a(o=>[u("div",G,[u("p",K,"Logger Old Data =>[ "+m(o.row.additionalInfo)+" ]",1),u("p",T,"Logger New Data => ["+m(o.row.data)+"]",1)])]),_:1}),e(i,{label:"Logger",key:"api",prop:"api",width:"100"}),e(i,{label:"Action",key:"action",prop:"action",width:"150"}),e(i,{label:"Date",key:"timestamp",prop:"timestamp",width:"200"}),e(i,{label:"By",key:"userId",prop:"userId",width:"50"}),e(i,{label:"Other",key:"additionalInfo",prop:"additionalInfo",align:"left"},{default:a(o=>[u("span",null,m(x(JSON.stringify(o.row.additionalInfo,null,2))),1)]),_:1})]),_:1},8,["data"])),[[L,s(c)]])]),_:1})]),_:1}),t[7]||(t[7]=u("br",null,null,-1))]),_:1})]),_:1})])}}});export{W as default};
