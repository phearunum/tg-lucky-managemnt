import{_ as K,d as Z,g as Q,r as p,s as X,I as ee,U as le,f as u,K as te,c as S,o as v,h as e,w as o,i as C,m as V,t as k,j as l,M as ae,x as M,l as oe,B as ne,F as se,A as de,Z as ue}from"./index-SiRIT6sV.js";import{g as re,u as ie,s as me}from"./luckysetting.service-C82cb9gE.js";const pe={class:"app-container"},ce={type:"border-card",class:"demo-tabs",style:{"min-height":"70vh","margin-top":"-10px"}},ge=Z({name:"user"}),_e=Object.assign(ge,{setup(fe){const{proxy:n}=Q(),U=p([]);p([]);const $=p(!0),c=p(!1),x=p(0),w=p(""),I=p(1),z=p(15),Y=X({queryParams:{page:0,limit:15,start_date:"",end_date:"",query:""},form:{}}),D=p();D.value=[{status_value:"expired",status_name:"expired"},{status_value:"available",status_name:"available"},{status_value:"collected",status_name:"collected"}];const{queryParams:r,form:s}=ee(Y),b=(d=1)=>{$.value=!0,re(Y.queryParams).then(t=>{$.value=!1,U.value=t.data,x.value=t.meta.total})},E=d=>{I.value=d,n.$nextTick(()=>{b(d)})},H=d=>{z.value=d,n.$nextTick(()=>{b()})},F=()=>{s.value={catName:void 0,catCode:void 0}},q=()=>{F(),c.value=!0,w.value=n.$t("system.Add New")};function L(d){console.log(d),s.value=d,c.value=!0,w.value="Update Record"}const N=()=>{const{userId:d,roleId:t,companyId:m,username:_}=JSON.parse(ue());n.$refs.formRef.validate(y=>{y&&(s.value.create_by=_,s.value.id!==void 0&&s.value.id>0?ie(s.value).then(i=>{c.value=!1,i.statusCode==200?(n.$modal.msgSuccess(n.$t("system.Success")),b()):n.$modal.msgError(n.$t("system.Failed"))}):me(s.value).then(i=>{c.value=!1,i.statusCode==200?(n.$modal.msgSuccess(n.$t("system.Success")),b()):n.$modal.msgError(n.$t("system.Failed"))}))})};return le(()=>{b()}),(d,t)=>{const m=u("el-col"),_=u("el-button"),y=u("el-date-picker"),i=u("el-input"),h=u("el-row"),g=u("el-table-column"),T=u("el-image"),B=u("el-table"),P=u("el-pagination"),f=u("el-form-item"),R=u("el-input-number"),A=u("el-option"),j=u("el-select"),O=u("el-form"),G=u("el-dialog"),W=u("el-card"),J=te("loading");return v(),S("div",pe,[e(W,{shadow:"never"},{default:o(()=>[e(h,{gutter:24},{default:o(()=>[e(m,{span:4,xs:24},{default:o(()=>t[15]||(t[15]=[C("div",{class:"head-container"},null,-1)])),_:1}),e(m,{lg:24,xm:24},{default:o(()=>[e(h,{gutter:10,class:"mb8"},{default:o(()=>[e(m,{span:1.5},{default:o(()=>[e(_,{type:"primary",plain:"",icon:"plus",onClick:q},{default:o(()=>[V(k(d.$t("btn.add")),1)]),_:1})]),_:1}),e(m,{span:1.5},{default:o(()=>[e(y,{modelValue:l(r).start_date,"onUpdate:modelValue":t[0]||(t[0]=a=>l(r).start_date=a),type:"datetime",placeholder:"From Date",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),e(m,{span:1.5},{default:o(()=>[e(y,{modelValue:l(r).end_date,"onUpdate:modelValue":t[1]||(t[1]=a=>l(r).end_date=a),type:"datetime",placeholder:"To Date",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),e(m,{span:1.5},{default:o(()=>[e(i,{modelValue:l(r).query,"onUpdate:modelValue":t[2]||(t[2]=a=>l(r).query=a),placeholder:"filter by account , chatid ..",clearable:"",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),_:1}),e(m,{span:1.5},{default:o(()=>[e(_,{type:"primary",icon:"search",onClick:t[3]||(t[3]=a=>b(1))},{default:o(()=>[V(k(d.$t("btn.search")),1)]),_:1})]),_:1})]),_:1}),C("div",ce,[ae((v(),M(B,{data:l(U)},{default:o(()=>[e(g,{prop:"name",label:"Account",align:"left",width:"180",style:{"text-align":"left"}}),e(g,{label:l(n).$t("Group ID"),align:"left",sortable:"",key:"group_id",width:"180",prop:"group_id"},null,8,["label"]),e(g,{label:l(n).$t("lables.token"),align:"left",key:"token",prop:"token",width:"350"},null,8,["label"]),e(g,{label:"Win",align:"right",key:"total_win",prop:"total_win"}),e(g,{label:l(n).$t("status"),align:"left",key:"status",width:"100",prop:"status"},null,8,["label"]),e(g,{label:l(n).$t("message"),align:"left",key:"message",width:"250",prop:"message"},null,8,["label"]),e(g,{label:l(n).$t("Image"),align:"right",key:"image",prop:"image",width:"170"},{default:o(a=>[e(T,{src:a.row.image},null,8,["src"])]),_:1},8,["label"]),e(g,{label:l(n).$t("action"),align:"right",width:"100"},{default:o(a=>[e(_,{type:"primary",size:"small",icon:"edit",title:d.$t("btn.edit"),onClick:oe(be=>L(a.row),["stop"])},null,8,["title","onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[J,l($)]])]),t[16]||(t[16]=C("br",null,null,-1)),e(P,{"current-page":l(r).page,"onUpdate:currentPage":t[4]||(t[4]=a=>l(r).page=a),"page-size":l(r).limit,"onUpdate:pageSize":t[5]||(t[5]=a=>l(r).limit=a),"page-sizes":[15,20,30,40,50,60,70,80,90,100,120],small:!0,disabled:d.disabled,background:d.background,layout:"total, sizes, prev, pager, next, jumper",total:l(x),onSizeChange:E,onCurrentChange:H},null,8,["current-page","page-size","disabled","background","total"])]),_:1})]),_:1}),e(G,{title:l(w),modelValue:l(c),"onUpdate:modelValue":t[14]||(t[14]=a=>ne(c)?c.value=a:null),width:"600px","append-to-body":"","close-on-click-modal":!1,draggable:""},{footer:o(()=>[e(_,{text:"",onClick:t[13]||(t[13]=a=>c.value=!1)},{default:o(()=>[V(k(d.$t("btn.cancel")),1)]),_:1}),e(_,{type:"primary",onClick:N},{default:o(()=>[V(k(d.$t("btn.submit")),1)]),_:1})]),default:o(()=>[e(O,{ref:"formRef",model:l(s),rules:d.rules,"label-width":"150px"},{default:o(()=>[e(h,null,{default:o(()=>[e(m,{lg:24},{default:o(()=>[e(f,{label:l(n).$t("lables.name"),prop:"name"},{default:o(()=>[e(i,{modelValue:l(s).name,"onUpdate:modelValue":t[6]||(t[6]=a=>l(s).name=a),placeholder:l(n).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(f,{label:"Group ID",prop:"group_id"},{default:o(()=>[e(i,{modelValue:l(s).group_id,"onUpdate:modelValue":t[7]||(t[7]=a=>l(s).group_id=a),placeholder:l(n).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1}),e(f,{label:"Token",prop:"token"},{default:o(()=>[e(i,{modelValue:l(s).token,"onUpdate:modelValue":t[8]||(t[8]=a=>l(s).token=a),type:"textarea",rows:2,placeholder:l(n).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1}),e(f,{label:"Message",prop:"message"},{default:o(()=>[e(i,{modelValue:l(s).message,"onUpdate:modelValue":t[9]||(t[9]=a=>l(s).message=a),type:"textarea",rows:2,placeholder:l(n).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1}),e(f,{label:"Image",prop:"image"},{default:o(()=>[e(i,{modelValue:l(s).image,"onUpdate:modelValue":t[10]||(t[10]=a=>l(s).image=a),type:"textarea",rows:2,placeholder:l(n).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1}),e(f,{label:"Total Win",prop:"total_win"},{default:o(()=>[e(R,{modelValue:l(s).total_win,"onUpdate:modelValue":t[11]||(t[11]=a=>l(s).total_win=a),placeholder:l(n).$t("system.Enter"),"controls-position":"right"},null,8,["modelValue","placeholder"])]),_:1}),e(f,{label:l(n).$t("lables.status"),prop:"status"},{default:o(()=>[e(j,{modelValue:l(s).status,"onUpdate:modelValue":t[12]||(t[12]=a=>l(s).status=a),placeholder:"Select",style:{width:"150px"}},{default:o(()=>[(v(!0),S(se,null,de(l(D),a=>(v(),M(A,{key:a.status_value,label:a.status_name,value:a.status_value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])]),_:1})])}}}),Ve=K(_e,[["__scopeId","data-v-f37fdd43"]]);export{Ve as default};
