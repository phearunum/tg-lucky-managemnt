import{_ as x,d as L,g as B,u as C,a as $,b as N,r as e,$ as V,f as r,c as i,o as a,h as u,i as c,w as g,t as f,j as t,n as p,x as j,y as F,m as R,F as T}from"./index-SiRIT6sV.js";import q from"./starBackground-pLkdtQ6i.js";const w={class:"login"},E={class:"title"},H={key:0,style:{"text-align":"center"},class:"pb20"},I={key:1,class:"loading"},M={class:"el-login-footer"},O=["innerHTML"],Q=L({name:"socialLogin"}),D=Object.assign(Q,{setup(U){const{proxy:l}=B(),d=C(),h=$(),v=N(),y=e(void 0),o=e(void 0),_=e(),m=e(""),s=e(!1);return o.value=V(),_.value=d.query.redirect,m.value=d.query.authSource,o.value&&o.value.state!=null&&(s.value=!0,v.oauthLogin(o.value,{authSource:m.value}).then(()=>{l.$modal.msgSuccess(l.$t("login.loginSuccess")),h.push({path:_.value||"/"})}).catch(n=>{console.error(n),l.$modal.msgError(n.msg),s.value=!1})),(n,z)=>{const k=r("el-empty"),S=r("router-link"),b=r("el-form");return a(),i(T,null,[u(q),c("div",w,[u(b,{ref:"loginRef",model:t(y),class:"login-form"},{default:g(()=>[c("h3",E,f(t(p).title),1),t(s)?(a(),i("div",I,"登 录 中...")):(a(),i("div",H,[t(s)?F("",!0):(a(),j(k,{key:0,description:"未获取到授权信息，请返回重新授权登录"})),u(S,{class:"link-type",to:"/login"},{default:g(()=>[R("返回"+f(n.$t("login.btnLogin")),1)]),_:1})]))]),_:1},8,["model"]),c("div",M,[c("div",{innerHTML:t(p).copyright},null,8,O)])])],64)}}}),J=x(D,[["__scopeId","data-v-0ac1bc0b"]]);export{J as default};
