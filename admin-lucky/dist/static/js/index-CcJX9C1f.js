import{d as se,g as re,r as f,s as de,I as me,f as r,K as B,c as D,o as _,h as t,w as o,M as S,m as k,t as v,j as e,x as w,y as ie,i as j,l as F,B as ce,F as pe,A as be}from"./index-SiRIT6sV.js";import{g as fe,a as ge,u as ke,c as $e}from"./bucket-CCLSOPoM.js";const ye={class:"app-container"},_e=se({name:"user"}),he=Object.assign(_e,{setup(ve){const{proxy:l}=re(),C=f([]),T=f([]),x=f(!0),N=f(0),h=f(""),g=f(!1),M=f(1),L=f(10),I=f([]),A=f();A.value=[{statusCode:!1,statusName:l.$t("common.no")},{statusCode:!0,statusName:l.$t("common.yes")}];const U=de({queryParams:{page:0,limit:15,query:void 0},form:{folders:"/"},rules:{bucketName:[{required:!0,min:5,max:20,message:`${l.$t("menu.min5Max20")}`,trigger:"blur"}],bucketProject:[{required:!0,min:5,max:20,message:`${l.$t("menu.min5Max20")}`,trigger:"blur"}],bucketAddress:[{required:!0,min:5,max:20,message:`${l.$t("menu.min5Max20")}`,trigger:"blur"}],bucketAccesskey:[{required:!0,min:5,max:50,message:`${l.$t("menu.notEmpty")} [min:5 | max:50]`,trigger:"blur"}],bucketScretekey:[{required:!0,min:5,max:50,message:`${l.$t("menu.notEmpty")} [min:5 | max:50]`,trigger:"blur"}],bucketPort:[{required:!0,message:`${l.$t("menu.notEmpty")}`,trigger:"blur"}],bucketPort:[{required:!0,message:`${l.$t("menu.notEmpty")}`,trigger:"blur"}],folders:[{required:!0,message:`${l.$t("menu.notEmpty")}`,trigger:"blur"}],bucketStatus:[{required:!0,message:`${l.$t("menu.notEmpty")}`,trigger:"blur"}],bucketRegin:[{required:!0,message:`${l.$t("menu.notEmpty")}`,trigger:"blur"}]}}),{queryParams:$,rules:O,form:u}=me(U);function V(s=1){x.value=!0,fe(l.addDateRange(U.queryParams)).then(a=>{x.value=!1,C.value=a.data,N.value=a.meta.total})}function K(s){M.value=s,l.$nextTick(()=>{})}function G(s){L.value=s,l.$nextTick(()=>{})}function H(){g.value=!0,h.value=l.$t("system.Add New"),u.value={daylimit:0,folders:"/"}}function J(s){const a=s.id||T.value;ge(a).then(i=>{u.value=i.data,g.value=!0,h.value="Update Record"})}function Q(){l.$refs.formRef.validate(s=>{s&&(u.value.id!==void 0&&u.value.id>0?ke(u.value).then(a=>{g.value=!1,a.statusCode==200?(l.$modal.msgSuccess(l.$t("system.Success")),V()):l.$modal.msgError(l.$t("system.Failed"))}):$e(u.value).then(a=>{g.value=!1,a.statusCode==200?(l.$modal.msgSuccess(l.$t("system.Success")),V()):l.$modal.msgError(l.$t("system.Failed"))}))})}function W(s){const a=s.id||a.value;l.$confirm(l.$t("system.Do you want to delete")+` = ${a} ?`,l.$t("system.System Message"),{confirmButtonText:l.$t("yes"),cancelButtonText:l.$t("no"),type:"warning"}).then(()=>deleteCardsetting(a)).then(i=>{i.status==200?(l.$modal.msgSuccess(l.$t("system.Success")),V()):l.$modal.msgError(l.$t("system.Failed"))})}const X=s=>{const a=new Date(s),i={month:"long",day:"numeric",year:"numeric"},d=a.toLocaleDateString("en-US",i),c={hour:"numeric",minute:"numeric",hour12:!0},y=a.toLocaleTimeString("en-US",c);return`${d}, ${y}`};return V(),(s,a)=>{const i=r("el-button"),d=r("el-col"),c=r("el-input"),y=r("el-row"),p=r("el-table-column"),E=r("DocumentCopy"),P=r("el-icon"),q=r("el-tooltip"),Y=r("el-switch"),Z=r("el-table"),ee=r("el-pagination"),b=r("el-form-item"),te=r("el-option"),le=r("el-select"),ae=r("el-checkbox"),R=r("el-text"),oe=r("el-form"),ne=r("el-dialog"),z=B("hasPermi"),ue=B("loading");return _(),D("div",ye,[t(y,{gutter:24},{default:o(()=>[t(d,{lg:24,xm:24},{default:o(()=>[t(y,{gutter:10,class:"mb8"},{default:o(()=>[t(d,{span:1.5},{default:o(()=>[t(i,{type:"primary",plain:"",icon:"plus",onClick:H},{default:o(()=>[k(v(s.$t("btn.add")),1)]),_:1})]),_:1}),t(d,{span:1.5},{default:o(()=>[t(c,{modelValue:e($).query,"onUpdate:modelValue":a[0]||(a[0]=n=>e($).query=n),placeholder:"Search",clearable:"","prefix-icon":"el-icon-search",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),_:1}),t(d,{span:1.5},{default:o(()=>[t(i,{type:"primary",icon:"search"},{default:o(()=>[k(v(s.$t("btn.search")),1)]),_:1})]),_:1})]),_:1}),S((_(),w(Z,{style:{height:"75vh"},data:e(C),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"}},{default:o(()=>[t(p,{label:e(l).$t("layout.identity"),align:"center",key:"id",width:"50",prop:"id"},null,8,["label"]),t(p,{label:e(l).$t("common.name"),align:"center",key:"bucketProject",prop:"bucketProject"},null,8,["label"]),t(p,{label:e(l).$t("menu.bucketName"),align:"center",key:"bucketName",prop:"bucketName"},null,8,["label"]),t(p,{label:e(l).$t("menu.bucketAddress"),align:"center",key:"bucketAddress",prop:"bucketAddress"},null,8,["label"]),t(p,{label:e(l).$t("menu.folder"),key:"folders",prop:"folders"},null,8,["label"]),t(p,{label:e(l).$t("menu.bucketAccesskey"),align:"center"},{default:o(n=>{var m;return[j("div",null,[t(q,{class:"box-item",effect:"dark",content:(m=n.row)==null?void 0:m.bucketAccesskey,placement:"top-start"},{default:o(()=>[t(P,null,{default:o(()=>[t(E)]),_:1})]),_:2},1032,["content"])])]}),_:1},8,["label"]),t(p,{label:e(l).$t("menu.bucketScretekey"),align:"center"},{default:o(n=>{var m;return[j("div",null,[t(q,{class:"box-item",effect:"dark",content:(m=n.row)==null?void 0:m.bucketScretekey,placement:"top-start"},{default:o(()=>[t(P,null,{default:o(()=>[t(E)]),_:1})]),_:2},1032,["content"])])]}),_:1},8,["label"]),t(p,{label:e(l).$t("menu.bucketRegin"),align:"center",key:"bucketRegin",prop:"bucketRegin"},null,8,["label"]),t(p,{label:e(l).$t("common.status"),align:"center"},{default:o(n=>{var m;return[t(Y,{value:(m=n.row)==null?void 0:m.bucketStatus,"inline-prompt":"","active-text":e(l).$t("common.yes"),"inactive-text":e(l).$t("common.no")},null,8,["value","active-text","inactive-text"])]}),_:1},8,["label"]),e(I).showColumn("createdAt")?(_(),w(p,{key:0,label:e(l).$t("createon"),align:"center",prop:"createdAt",width:"200"},{default:o(n=>{var m;return[k(v(X((m=n.row)==null?void 0:m.createdAt)),1)]}),_:1},8,["label"])):ie("",!0),t(p,{label:e(l).$t("action"),align:"center",width:"150","class-name":"small-padding fixed-width"},{default:o(n=>[S(t(i,{size:"small",text:"",icon:"edit",title:s.$t("btn.edit"),onClick:F(m=>J(n.row),["stop"])},null,8,["title","onClick"]),[[z,["upload:bucket:edit"]]]),S(t(i,{size:"small",text:"",icon:"delete",title:s.$t("btn.delete"),onClick:F(m=>W(n.row),["stop"])},null,8,["title","onClick"]),[[z,["upload:bucket:delete"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[ue,e(x)]]),t(ee,{"current-page":e($).page,"onUpdate:currentPage":a[1]||(a[1]=n=>e($).page=n),"page-size":e($).limit,"onUpdate:pageSize":a[2]||(a[2]=n=>e($).limit=n),"page-sizes":[100,200,300,400],small:!0,disabled:s.disabled,background:"var(--el-fill-color-light)",layout:"total, sizes, prev, pager, next, jumper",total:e(N),onSizeChange:K,onCurrentChange:G},null,8,["current-page","page-size","disabled","total"])]),_:1}),t(ne,{title:e(h),modelValue:e(g),"onUpdate:modelValue":a[15]||(a[15]=n=>ce(g)?g.value=n:null),width:"600px","append-to-body":"","close-on-click-modal":!1},{footer:o(()=>[t(i,{text:"",onClick:a[14]||(a[14]=n=>g.value=!1)},{default:o(()=>[k(v(s.$t("btn.cancel")),1)]),_:1}),t(i,{type:"primary",onClick:Q},{default:o(()=>[k(v(s.$t("btn.submit")),1)]),_:1})]),default:o(()=>[t(oe,{ref:"formRef",model:e(u),rules:e(O),"label-width":"150px"},{default:o(()=>[t(y,null,{default:o(()=>[t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("common.name"),prop:"bucketProject"},{default:o(()=>[t(c,{modelValue:e(u).bucketProject,"onUpdate:modelValue":a[3]||(a[3]=n=>e(u).bucketProject=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketName"),prop:"bucketName"},{default:o(()=>[t(c,{modelValue:e(u).bucketName,"onUpdate:modelValue":a[4]||(a[4]=n=>e(u).bucketName=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketAddress"),prop:"bucketAddress"},{default:o(()=>[t(c,{modelValue:e(u).bucketAddress,"onUpdate:modelValue":a[5]||(a[5]=n=>e(u).bucketAddress=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.folder")+"( / )",prop:"folders"},{default:o(()=>[t(c,{modelValue:e(u).folders,"onUpdate:modelValue":a[6]||(a[6]=n=>e(u).folders=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketPort"),prop:"bucketPort"},{default:o(()=>[t(c,{modelValue:e(u).bucketPort,"onUpdate:modelValue":a[7]||(a[7]=n=>e(u).bucketPort=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketScretekey"),prop:"bucketScretekey"},{default:o(()=>[t(c,{modelValue:e(u).bucketScretekey,"onUpdate:modelValue":a[8]||(a[8]=n=>e(u).bucketScretekey=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketAccesskey"),prop:"bucketAccesskey"},{default:o(()=>[t(c,{modelValue:e(u).bucketAccesskey,"onUpdate:modelValue":a[9]||(a[9]=n=>e(u).bucketAccesskey=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.bucketRegin"),prop:"bucketRegin"},{default:o(()=>[t(c,{modelValue:e(u).bucketRegin,"onUpdate:modelValue":a[10]||(a[10]=n=>e(u).bucketRegin=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t(d,{lg:8},{default:o(()=>[t(b,{label:e(l).$t("common.status"),prop:"bucketStatus",style:{width:"300px"}},{default:o(()=>[t(le,{modelValue:e(u).bucketStatus,"onUpdate:modelValue":a[11]||(a[11]=n=>e(u).bucketStatus=n),placeholder:"status",style:{width:"200px"}},{default:o(()=>[(_(!0),D(pe,null,be(e(A),n=>(_(),w(te,{key:n.statusCode,label:n.statusName,value:n.statusCode},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),t(d,{lg:20},{default:o(()=>[t(b,{label:e(l).$t("menu.staticFileName"),prop:"isStaticName"},{default:o(()=>[t(ae,{modelValue:e(u).isStaticName,"onUpdate:modelValue":a[12]||(a[12]=n=>e(u).isStaticName=n),label:"Use Satic Name "},null,8,["modelValue"]),t(c,{modelValue:e(u).staticFileName,"onUpdate:modelValue":a[13]||(a[13]=n=>e(u).staticFileName=n),placeholder:e(l).$t("system.Enter")},null,8,["modelValue","placeholder"]),t(R,{class:"mx-1",type:"warning",size:"small"},{default:o(()=>a[16]||(a[16]=[k("* Use upload with the static file name ")])),_:1}),t(R,{class:"mx-1",type:"warning",size:"small"},{default:o(()=>a[17]||(a[17]=[k("* If not just leave it blank ")])),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])]),_:1})])}}});export{he as default};
